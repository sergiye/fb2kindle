@using jail.Models
@model IEnumerable<BookInfo>

<div id="list-group">
    <table class="table table-striped table-bordered table-hover">
        <tr>
            <th style="min-width: 220px;">Title</th>
            @if (ViewBag.AuthorMode == null || !ViewBag.AuthorMode)
            {
                <th style="min-width: 150px; width: 150px;">Author</th>
            }
            @if (ViewBag.SequenceMode == null || !ViewBag.SequenceMode)
            {
                <th style="min-width: 150px; width: 150px;">Sequence</th>
            }
            <th style="min-width: 90px; width: 90px;">Registered</th>
            <th style="min-width: 90px; width: 90px;">File</th>
        </tr>

        @if (Model != null && Model.Any())
        {
            foreach (var item in Model)
            {
                <tr>
                    <td>
                        <a href='@Url.Action("details", new {id = item.Id})' title="Book details">
                            <b>@Html.DisplayFor(modelItem => item.Title)</b> 
                        </a>
                        <small style="float: right;">@Html.DisplayFor(modelItem => item.Lang)</small>
                    </td>
                    @if (ViewBag.AuthorMode == null || !ViewBag.AuthorMode)
                    {
                        <td>@{ Html.RenderPartial("AuthorsList", item.Authors); }</td>
                    }
                    @if (ViewBag.SequenceMode == null || !ViewBag.SequenceMode)
                    {
                        <td>
                            @if (item.Sequences.Count > 0)
                            {
                                Html.RenderPartial("SequencesList", item.Sequences);
                            }
                        </td>
                    }
                    <td>@Html.DisplayFor(modelItem => item.CreatedDate)</td>
                    <td>
                        <a class="btn btn-default" href='@Url.Action("download", new { id = item.Id })' title="Get FB2 file">
                            <span class="glyphicon glyphicon-save"></span>
                            @Html.DisplayFor(modelItem => item.FileSizeStr)
                        </a>
                    </td>
                </tr>
            }
        }
    </table>
</div>
