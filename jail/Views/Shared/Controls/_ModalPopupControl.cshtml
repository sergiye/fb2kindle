@model jail.Models.Controls.ModalPopupControlViewModel

<div id="@Model.Id" class="modal fade" role="dialog" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close am-close-spin" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">@Model.Title</h4>
            </div>
            <div class="modal-body">
                @(Model.Template == null ? Html.DisplayText(Model.ModalPopupText) : Html.Partial(Model.Template, Model.TemplateViewData))
            </div>
            @if (Model.IsFooterExist)
            {
                <div class="modal-footer">
                    @if (Model.CloseButtonText != null)
                    {
                        <button id="@Model.CloseId" class="btn btn-danger">@Model.CloseButtonText</button>
                    }
                    @if (Model.OkButtonText != null)
                    {
                        <button id="@Model.OkId" class="btn btn-success">@Model.OkButtonText</button>
                    }
                </div>
            }
        </div>
    </div>
</div>
<script type="text/javascript">
    $(function () {
        window.Pages.Controls["@Model.Id"] = new ModalPopupControl("@Model.Id", "@Model.CloseId", "@Model.OkId", "@Model.IsManagePopup", "@Model.BeforeSaveCallback", "@Model.AfterSaveCallback");
    });
</script>